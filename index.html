<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cruise Nation - The Ultimate Vibe Hub</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Tone.js for Sound Effects -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>
  <style>
    :root {
      --primary: #25D366;
      --secondary: #128C7E;
      --bg-light: #f0f4f8;
      --bg-dark: #121212;
      --card-light: #ffffff;
      --card-dark: #1f1f1f;
      --text-light: #333333;
      --text-dark: #eee;
    }
    body {
      font-family: 'Poppins', sans-serif;
      overflow-x: hidden;
      transition: background-color 0.5s ease;
      background-color: var(--bg-light);
      color: var(--text-light);
    }
    .dark {
      background-color: var(--bg-dark);
      color: var(--text-dark);
    }
    .dark .card, .dark .chat-bubble {
      background-color: var(--card-dark);
      color: var(--text-dark);
    }
    .dark .btn {
      background-color: var(--primary);
    }
    /* SPLASH SCREEN ANIMATIONS */
    .splash {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background-color: var(--primary);
      color: white;
      font-size: 2rem;
      z-index: 1000;
      transition: opacity 1s ease;
    }
    .splash-text {
      animation: zoomIn 1s ease-out;
    }
    .splash.hidden {
      opacity: 0;
      pointer-events: none;
    }
    @keyframes zoomIn {
      from { transform: scale(0.5); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    /* FLOATING EMOJIS */
    .emoji-float {
      position: absolute;
      font-size: clamp(1rem, 5vw, 3rem);
      animation: float-up 6s linear infinite;
      opacity: 0.8;
      pointer-events: none;
    }
    @keyframes float-up {
      from { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      20% { opacity: 1; }
      to { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
    }
    /* CUSTOM SCROLLBAR (Funky) */
    ::-webkit-scrollbar {
      width: 12px;
    }
    ::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.1);
      border-radius: 10px;
    }
    ::-webkit-scrollbar-thumb {
      background: var(--primary);
      border-radius: 10px;
      border: 3px solid transparent;
      background-clip: content-box;
    }
    /* SPECIAL TEXT GRADIENTS */
    .gradient-text {
      background: linear-gradient(45deg, #FF6B6B, #F9D03F, #25D366, #3C8DBC);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
  </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 transition-colors duration-500">

  <!-- ======================== SPLASH SCREENS ======================== -->
  <div id="splash1" class="splash bg-green-500">
    <div class="splash-text text-center">
      <h1 class="text-6xl font-bold mb-4">🌍 Cruise Nation</h1>
      <p class="text-2xl font-semibold">The Vibe Starts Here...</p>
    </div>
  </div>

  <div id="splash2" class="splash bg-blue-500 hidden">
    <div class="splash-text text-center">
      <h1 class="text-6xl font-bold mb-4">😂🔥 100% Fun, 0% Stress</h1>
      <p class="text-2xl font-semibold">Loading the good vibes...</p>
    </div>
  </div>

  <!-- ======================== MAIN SITE CONTENT ======================== -->
  <div id="mainSite" class="min-h-screen pt-16" style="display:none;">

    <!-- HERO SECTION -->
    <header class="relative overflow-hidden p-8 sm:p-16 text-center text-white bg-gradient-to-br from-green-500 to-teal-500 rounded-b-3xl shadow-xl animate-fade-in-down">
      <div class="container mx-auto max-w-4xl z-10 relative">
        <h1 class="text-4xl sm:text-6xl font-extrabold tracking-tight mb-4 animate-pulse-slow">
          🎉 Welcome to Cruise Nation 🎉
        </h1>
        <p class="text-xl sm:text-2xl font-light mb-8 opacity-90">
          The WhatsApp group where the fun never ends 😎🔥. Let's make every moment count!
        </p>
        <a class="btn bg-white text-green-600 font-bold py-4 px-8 rounded-full shadow-lg transition-transform hover:scale-105 hover:bg-gray-100"
          href="https://chat.whatsapp.com/KFeDDNseB94A7wWtHRWc8A" target="_blank">
          <span class="inline-block transition-transform group-hover:rotate-12">👉</span> Join the Vibe Now!
        </a>
      </div>
    </header>

    <!-- ABOUT SECTION -->
    <section class="p-8 sm:p-16 max-w-5xl mx-auto text-center">
      <h2 class="text-3xl sm:text-4xl font-bold mb-4 gradient-text">About Our Group 🚀</h2>
      <p class="text-lg leading-relaxed max-w-3xl mx-auto">
        We're more than just a chat group; we're a digital family of vibers, dreamers, and joke-lovers. From hot trends and funny memes to deep conversations and shared opportunities, <b>Cruise Nation</b> is your daily dose of inspiration and laughter. We believe in spreading positivity and keeping the cruise alive!
      </p>
    </section>

    <!-- COUNTDOWN SECTION -->
    <section class="p-8 sm:p-16 max-w-5xl mx-auto text-center">
      <h2 class="text-3xl sm:text-4xl font-bold mb-4 gradient-text">Next Cruise Friday 🎊</h2>
      <p id="countdown" class="text-4xl sm:text-6xl font-extrabold text-green-500 animate-pulse-fast"></p>
    </section>

    <!-- WHAT YOU'LL FIND SECTION -->
    <section class="p-8 sm:p-16 max-w-5xl mx-auto text-center">
      <h2 class="text-3xl sm:text-4xl font-bold mb-10 gradient-text">What's in it for you? 🎁</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        <div class="card bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg transform transition-all hover:scale-105 hover:shadow-2xl">
          <div class="text-5xl mb-4">😂</div>
          <h3 class="font-bold text-xl mb-2">Endless Laughter</h3>
          <p class="text-gray-600 dark:text-gray-400">Funny memes, hilarious gist, and jokes that'll make your day brighter.</p>
        </div>
        <div class="card bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg transform transition-all hover:scale-105 hover:shadow-2xl">
          <div class="text-5xl mb-4">🤝</div>
          <h3 class="font-bold text-xl mb-2">Cool Connections</h3>
          <p class="text-gray-600 dark:text-gray-400">Network with awesome people and make friends that last a lifetime.</p>
        </div>
        <div class="card bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg transform transition-all hover:scale-105 hover:shadow-2xl">
          <div class="text-5xl mb-4">💡</div>
          <h3 class="font-bold text-xl mb-2">Inspo & Gist</h3>
          <p class="text-gray-600 dark:text-gray-400">Stay ahead with the latest trends, career opportunities, and real talk.</p>
        </div>
        <div class="card bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg transform transition-all hover:scale-105 hover:shadow-2xl">
          <div class="text-5xl mb-4">🎶</div>
          <h3 class="font-bold text-xl mb-2">Music & Playlists</h3>
          <p class="text-gray-600 dark:text-gray-400">Discover new tunes and share your favorite vibes with the community.</p>
        </div>
        <div class="card bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg transform transition-all hover:scale-105 hover:shadow-2xl">
          <div class="text-5xl mb-4">🎯</div>
          <h3 class="font-bold text-xl mb-2">Positive Community</h3>
          <p class="text-gray-600 dark:text-gray-400">A safe space where everyone is welcome to share and grow.</p>
        </div>
        <div class="card bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg transform transition-all hover:scale-105 hover:shadow-2xl">
          <div class="text-5xl mb-4">🛡️</div>
          <h3 class="font-bold text-xl mb-2">Zero Drama</h3>
          <p class="text-gray-600 dark:text-gray-400">Strictly good vibes, no spam, and respect for everyone. Simple!</p>
        </div>
      </div>
    </section>

    <!-- VIBE CHECK SECTION -->
    <section class="p-8 sm:p-16 max-w-5xl mx-auto text-center">
      <h2 class="text-3xl sm:text-4xl font-bold mb-6 gradient-text">Check Your Vibe ✨</h2>
      <p class="mb-6 text-lg">Click the button below and let our algorithm determine your current vibe!</p>
      <button id="vibeCheckBtn" class="btn bg-green-500 text-white font-bold py-3 px-6 rounded-full shadow-lg transition-transform hover:scale-105">
        Vibe Check Me!
      </button>
      <div id="vibeResult" class="mt-8 p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-xl transition-all duration-500 opacity-0 transform scale-95" style="display:none;">
        <p class="text-xl font-semibold text-gray-700 dark:text-gray-300">Your Vibe is:</p>
        <p id="vibeText" class="text-3xl sm:text-5xl font-extrabold mt-2 gradient-text"></p>
        <div id="vibeEmoji" class="text-6xl mt-4 animate-bounce-slow"></div>
      </div>
    </section>

    <!-- CHAT WITH THE VIBE MASTER SECTION -->
    <section class="p-8 sm:p-16 max-w-5xl mx-auto text-center">
      <h2 class="text-3xl sm:text-4xl font-bold mb-6 gradient-text">Chat with the Vibe Master 🤖</h2>
      <p class="text-lg max-w-3xl mx-auto mb-6">Ask the bot for a joke, a fun fact, or just a little bit of "cruise" to get a feel for the group's energy. Type below and let's get chatting!</p>
      <div id="chat-container" class="w-full bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-6 flex flex-col items-center">
        <div id="chat-box" class="w-full h-80 overflow-y-auto mb-4 p-4 rounded-xl bg-gray-100 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 text-left flex flex-col space-y-4">
          <div class="chat-bubble bg-gray-300 dark:bg-gray-600 rounded-2xl p-4 self-start max-w-[80%]">
            <p class="font-bold text-lg mb-1">Vibe Master Bot</p>
            <p>Hey there, vibers! Ask me anything about the group's vibes, rules, or just say 'give me a fun fact' and let's get this party started! 🎉</p>
          </div>
        </div>
        <div class="w-full flex">
          <input type="text" id="chat-input" placeholder="Type your message..." class="flex-1 p-4 rounded-l-full bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500">
          <button id="chat-send-btn" class="bg-green-500 text-white font-bold py-4 px-6 rounded-r-full hover:bg-green-600 transition-colors duration-300">
            Send
          </button>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="bg-gray-800 text-gray-400 text-center py-12 mt-16 rounded-t-3xl shadow-inner">
      <div class="container mx-auto max-w-4xl">
        <button id="modeToggleBtn" class="btn bg-gray-700 text-white font-bold py-3 px-6 rounded-full mb-6 transition-transform hover:scale-105">
          🌗 Toggle Dark Mode
        </button>
        <div class="flex justify-center space-x-6 mb-6">
          <a href="#" class="text-gray-400 hover:text-white transition-colors">About</a>
          <a href="#" class="text-gray-400 hover:text-white transition-colors">Privacy</a>
          <a href="#" class="text-gray-400 hover:text-white transition-colors">Rules</a>
        </div>
        <p class="text-sm">&copy; 2025 Cruise Nation. Built with love, vibes, and zero stress. 💚</p>
      </div>
    </footer>
  </div>

  <!-- ======================== JAVASCRIPT LOGIC ======================== -->
  <script>
    // Constants and state management
    const apiKey = ""; // API key is handled by the canvas environment
    const API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=" + apiKey;
    const chatHistory = [{
      role: "user",
      parts: [{
        text: "You are the 'Vibe Master Bot' from a super fun WhatsApp group called 'Cruise Nation'. Your responses should be playful, friendly, and full of positive vibes and humor. Use lots of emojis like 😂, 🔥, 🎉, and 😎. Your core purpose is to give off a fun, laid-back energy. Never be serious or formal."
      }]
    }];

    // --- SOUND EFFECTS ---
    const synth = new Tone.Synth().toDestination();

    function playClickSound() {
      // Play a quick, friendly sound
      synth.triggerAttackRelease("C4", "8n");
    }

    // --- SPLASH SCREEN LOGIC ---
    setTimeout(() => {
      document.getElementById('splash1').classList.add('hidden');
      document.getElementById('splash2').classList.remove('hidden');
    }, 2500);

    setTimeout(() => {
      document.getElementById('splash2').classList.add('hidden');
      document.getElementById('mainSite').style.display = 'block';
      launchEmojis();
    }, 5000);

    // --- COUNTDOWN LOGIC ---
    function updateCountdown() {
      const target = new Date("Aug 29, 2025 20:00:00").getTime();
      const now = new Date().getTime();
      const diff = target - now;

      if (diff > 0) {
        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const s = Math.floor((diff % (1000 * 60)) / 1000);
        document.getElementById("countdown").innerText = `${d}d ${h}h ${m}m ${s}s`;
      } else {
        document.getElementById("countdown").innerText = "🎉 It's Cruise Time! The party has started!";
      }
    }
    setInterval(updateCountdown, 1000);

    // --- FLOATING EMOJIS ---
    function launchEmojis() {
      const emojis = ["😂", "🔥", "❤️", "🎉", "😎", "🚀", "💡", "🙌", "🤙"];
      setInterval(() => {
        const e = document.createElement("div");
        e.className = "emoji-float";
        e.innerText = emojis[Math.floor(Math.random() * emojis.length)];
        e.style.left = Math.random() * 100 + "vw";
        e.style.animationDuration = (4 + Math.random() * 3) + "s";
        document.body.appendChild(e);
        setTimeout(() => e.remove(), 7000);
      }, 500);
    }

    // --- VIBE CHECK LOGIC ---
    document.getElementById('vibeCheckBtn').addEventListener('click', () => {
      playClickSound();
      const vibes = [{
        text: "You're on a high vibe! Ready to cruise!",
        emoji: "🚀"
      }, {
        text: "Your vibe is super chill. 😎",
        emoji: "😌"
      }, {
        text: "You're a meme lord in the making. 😂",
        emoji: "🤣"
      }, {
        text: "Your vibe is pure fire! 🔥",
        emoji: "💯"
      }, {
        text: "You're bringing the party energy! 🎉",
        emoji: "🥳"
      }];
      const randomVibe = vibes[Math.floor(Math.random() * vibes.length)];
      const vibeResult = document.getElementById('vibeResult');
      const vibeText = document.getElementById('vibeText');
      const vibeEmoji = document.getElementById('vibeEmoji');

      vibeText.innerText = randomVibe.text;
      vibeEmoji.innerText = randomVibe.emoji;

      vibeResult.style.display = 'block';
      vibeResult.classList.remove('opacity-0', 'scale-95');
      vibeResult.classList.add('opacity-100', 'scale-100');
    });

    // --- CHATBOT LOGIC ---
    const chatInput = document.getElementById('chat-input');
    const chatSendBtn = document.getElementById('chat-send-btn');
    const chatBox = document.getElementById('chat-box');

    async function sendMessage() {
      const userMessage = chatInput.value.trim();
      if (!userMessage) return;

      playClickSound();

      // Add user message to chat box
      const userBubble = document.createElement('div');
      userBubble.className = 'chat-bubble bg-green-500 text-white rounded-2xl p-4 self-end max-w-[80%]';
      userBubble.innerHTML = `<p>${userMessage}</p>`;
      chatBox.appendChild(userBubble);
      chatBox.scrollTop = chatBox.scrollHeight;

      chatInput.value = '';
      chatInput.disabled = true;
      chatSendBtn.disabled = true;

      // Add loading indicator
      const botTyping = document.createElement('div');
      botTyping.className = 'chat-bubble bg-gray-300 dark:bg-gray-600 rounded-2xl p-4 self-start max-w-[80%]';
      botTyping.innerHTML = `<p class="italic text-gray-500 dark:text-gray-400">Vibe Master is typing...</p>`;
      chatBox.appendChild(botTyping);
      chatBox.scrollTop = chatBox.scrollHeight;

      try {
        const payload = {
          contents: chatHistory.concat([{
            role: "user",
            parts: [{
              text: userMessage
            }]
          }])
        };

        const response = await fetch(API_URL, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(payload)
        });

        if (!response.ok) {
          throw new Error(`API call failed with status: ${response.status}`);
        }

        const result = await response.json();
        const botResponse = result.candidates[0]?.content?.parts[0]?.text || "Vibe lost... but we'll find it! Try again!";

        chatHistory.push({
          role: "user",
          parts: [{
            text: userMessage
          }]
        });
        chatHistory.push({
          role: "model",
          parts: [{
            text: botResponse
          }]
        });

        // Replace loading indicator with bot response
        botTyping.remove();
        const botBubble = document.createElement('div');
        botBubble.className = 'chat-bubble bg-gray-300 dark:bg-gray-600 rounded-2xl p-4 self-start max-w-[80%]';
        botBubble.innerHTML = `<p class="font-bold text-lg mb-1">Vibe Master Bot</p><p>${botResponse}</p>`;
        chatBox.appendChild(botBubble);
        chatBox.scrollTop = chatBox.scrollHeight;
      } catch (error) {
        console.error("Error fetching from Gemini API:", error);
        botTyping.remove();
        const errorBubble = document.createElement('div');
        errorBubble.className = 'chat-bubble bg-red-500 text-white rounded-2xl p-4 self-start max-w-[80%]';
        errorBubble.innerHTML = `<p>Error: Could not connect to the Vibe Master. Maybe the internet is on a cruise? Try again later.</p>`;
        chatBox.appendChild(errorBubble);
      } finally {
        chatInput.disabled = false;
        chatSendBtn.disabled = false;
        chatInput.focus();
      }
    }

    chatSendBtn.addEventListener('click', sendMessage);
    chatInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        sendMessage();
      }
    });

    // --- DARK MODE TOGGLE ---
    const modeToggleBtn = document.getElementById('modeToggleBtn');
    modeToggleBtn.addEventListener('click', () => {
      playClickSound();
      document.body.classList.toggle('dark');
    });
  </script>
</body>
</html>


